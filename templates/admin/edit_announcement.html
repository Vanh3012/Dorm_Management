{% extends "admin/admin_base.html" %}
{% block content %}
<h2 class="text-2xl font-bold mb-6">✏️ Sửa thông báo</h2>

<form action="{{ url_for('admin.edit_announcement', ann_id=ann.id) }}" method="POST" enctype="multipart/form-data"
    class="space-y-4">
    <div>
        <label class="block font-semibold mb-1">Tiêu đề</label>
        <input type="text" name="title" value="{{ ann.title }}" required class="w-full border px-3 py-2 rounded">
    </div>
    <div>
        <label class="block font-semibold mb-1">Nội dung</label>
        <textarea name="content" rows="6" class="w-full border px-3 py-2 rounded">{{ ann.content }}</textarea>
    </div>
    <div>
        <label class="block font-semibold mb-1">Ảnh (tuỳ chọn)</label>
        {% if ann.image_url %}
        <p class="mb-2">Ảnh hiện tại:</p>
        <img src="{{ url_for('static', filename=ann.image_url) }}" class="max-h-48 rounded shadow mb-2">
        {% endif %}
        <input type="file" name="image" accept="image/*">
    </div>

    <div class="flex gap-3 mt-6">
        <a href="{{ url_for('admin.announcement_detail', ann_id=ann.id) }}"
            class="px-4 py-2 rounded bg-gray-500 hover:bg-gray-600 text-white">
            ← Quay lại
        </a>
        <button type="submit" class="px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 text-white">
            Lưu thay đổi
        </button>
    </div>
</form>
{% endblock %}