{% extends "admin/admin_base.html" %}
{% block content %}

<!-- Banner -->
<div class="relative w-full h-64 rounded-xl overflow-hidden shadow">
    <img src="{{ url_for('static', filename='img/ptit2.png') }}" class="absolute inset-0 w-full h-full object-cover"
        alt="PTIT">
    <div class="absolute inset-0 bg-gradient-to-r from-black/70 to-black/30"></div>
    <div class="relative z-10 flex h-full items-center justify-center text-center text-white px-6">
        <div>
            <h1 class="text-3xl md:text-4xl font-bold tracking-wide">Hệ thống Quản lý Ký túc xá PTIT</h1>
            <p class="mt-3 text-gray-200">Quản lý sinh viên, phòng ở, hóa đơn và vận hành ký túc xá hiệu quả</p>
        </div>
    </div>
</div>

<!-- Stats -->
<div class="mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
    <div class="bg-white p-5 rounded-xl shadow border-l-4 border-blue-500">
        <div class="text-sm text-gray-500 font-semibold">Tổng sinh viên</div>
        <div class="mt-2 text-3xl font-bold text-gray-800">{{ total_students }}</div>
    </div>
    <div class="bg-white p-5 rounded-xl shadow border-l-4 border-green-500">
        <div class="text-sm text-gray-500 font-semibold">Booking đang ở</div>
        <div class="mt-2 text-3xl font-bold text-gray-800">{{ occupied_rooms }}</div>
    </div>
    <div class="bg-white p-5 rounded-xl shadow border-l-4 border-amber-500">
        <div class="text-sm text-gray-500 font-semibold">Hóa đơn chưa thanh toán</div>
        <div class="mt-2 text-3xl font-bold text-gray-800">{{ unpaid_bills }}</div>
    </div>
    <div class="bg-white p-5 rounded-xl shadow border-l-4 border-red-500">
        <div class="text-sm text-gray-500 font-semibold">Đơn đăng ký chờ duyệt</div>
        <div class="mt-2 text-3xl font-bold text-gray-800">{{ pending_applications }}</div>
    </div>
</div>

<!-- Extra Stats -->
<div class="mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
    <div class="bg-white p-5 rounded-xl shadow border-l-4 border-purple-500">
        <div class="text-sm text-gray-500 font-semibold">Phòng còn trống</div>
        <div class="mt-2 text-3xl font-bold text-gray-800">{{ available_rooms }}</div>
    </div>
    <div class="bg-white p-5 rounded-xl shadow border-l-4 border-indigo-500">
        <div class="text-sm text-gray-500 font-semibold">Dịch vụ đang xử lý</div>
        <div class="mt-2 text-3xl font-bold text-gray-800">{{ services_open }}</div>
    </div>
    <div class="bg-white p-5 rounded-xl shadow border-l-4 border-teal-500">
        <div class="text-sm text-gray-500 font-semibold">Khiếu nại đang mở</div>
        <div class="mt-2 text-3xl font-bold text-gray-800">{{ complains_open }}</div>
    </div>
    <div class="bg-white p-5 rounded-xl shadow border-l-4 border-sky-500">
        <div class="text-sm text-gray-500 font-semibold">Tổng thông báo</div>
        <div class="mt-2 text-3xl font-bold text-gray-800">{{ announcements_count }}</div>
    </div>
</div>

<!-- Quick Actions -->
<div class="mt-10 bg-white p-6 rounded-xl shadow">
    <h2 class="text-xl font-bold text-gray-800 mb-4">Truy cập nhanh</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <a href="{{ url_for('admin.manage_applications') }}"
            class="flex items-center gap-4 p-5 border rounded-lg hover:shadow-lg transition">
            <div class="p-3 rounded-lg bg-blue-50 text-blue-600">📄</div>
            <div>
                <div class="font-semibold text-gray-800">Quản lý đơn đăng ký</div>
                <div class="text-sm text-gray-500">Duyệt / từ chối đơn đăng ký phòng</div>
            </div>
        </a>

        <a href="{{ url_for('admin.students') }}"
            class="flex items-center gap-4 p-5 border rounded-lg hover:shadow-lg transition">
            <div class="p-3 rounded-lg bg-green-50 text-green-600">🎓</div>
            <div>
                <div class="font-semibold text-gray-800">Quản lý sinh viên</div>
                <div class="text-sm text-gray-500">Thông tin, phòng ở, hóa đơn</div>
            </div>
        </a>

        <a href="{{ url_for('admin.payments') }}"
            class="flex items-center gap-4 p-5 border rounded-lg hover:shadow-lg transition">
            <div class="p-3 rounded-lg bg-amber-50 text-amber-600">💳</div>
            <div>
                <div class="font-semibold text-gray-800">Quản lý hóa đơn</div>
                <div class="text-sm text-gray-500">Theo dõi & xác nhận thanh toán</div>
            </div>
        </a>

        <a href="{{ url_for('admin.manage_rooms') }}"
            class="flex items-center gap-4 p-5 border rounded-lg hover:shadow-lg transition">
            <div class="p-3 rounded-lg bg-purple-50 text-purple-600">🏠</div>
            <div>
                <div class="font-semibold text-gray-800">Quản lý phòng</div>
                <div class="text-sm text-gray-500">Cập nhật thông tin & tình trạng phòng</div>
            </div>
        </a>

        <a href="{{ url_for('admin.generate_bills') }}"
            class="flex items-center gap-4 p-5 border rounded-lg hover:shadow-lg transition">
            <div class="p-3 rounded-lg bg-red-50 text-red-600">⚡</div>
            <div>
                <div class="font-semibold text-gray-800">Tạo hóa đơn tháng</div>
                <div class="text-sm text-gray-500">Tiền phòng + điện nước</div>
            </div>
        </a>

        <a href="{{ url_for('admin.manage_services') }}"
            class="flex items-center gap-4 p-5 border rounded-lg hover:shadow-lg transition">
            <div class="p-3 rounded-lg bg-indigo-50 text-indigo-600">🛠️</div>
            <div>
                <div class="font-semibold text-gray-800">Yêu cầu dịch vụ</div>
                <div class="text-sm text-gray-500">Bảo trì, rác, giặt ủi…</div>
            </div>
        </a>

        <a href="{{ url_for('admin.manage_complains') }}"
            class="flex items-center gap-4 p-5 border rounded-lg hover:shadow-lg transition">
            <div class="p-3 rounded-lg bg-teal-50 text-teal-600">📨</div>
            <div>
                <div class="font-semibold text-gray-800">Khiếu nại</div>
                <div class="text-sm text-gray-500">Trả lời & đóng khiếu nại</div>
            </div>
        </a>

        <a href="{{ url_for('admin.manage_announcements') }}"
            class="flex items-center gap-4 p-5 border rounded-lg hover:shadow-lg transition">
            <div class="p-3 rounded-lg bg-sky-50 text-sky-600">📢</div>
            <div>
                <div class="font-semibold text-gray-800">Thông báo</div>
                <div class="text-sm text-gray-500">Tạo & quản lý thông báo</div>
            </div>
        </a>
    </div>
</div>

{% endblock %}