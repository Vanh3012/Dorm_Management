<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <title>Admin - Ký túc xá</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="flex h-screen bg-gray-100">

    <!-- Sidebar -->
    <aside class="fixed top-0 left-0 h-screen w-64 bg-gray-800 text-white flex flex-col p-4 space-y-4">
        <h2 class="text-xl font-bold">
            <a href="{{ url_for('admin.dashboard') }}" >Quản trị KTX</a>
        </h2>
        <nav class="flex flex-col space-y-2">
            <a href="{{ url_for('admin.manage_announcements') }}" class="hover:bg-gray-700 px-3 py-2 rounded">Quản lý thông báo</a>
            <a href="{{ url_for('admin.manage_rooms') }}" class="hover:bg-gray-700 px-3 py-2 rounded">Quản lý phòng</a>
            <a href="{{ url_for('admin.students') }}" class="hover:bg-gray-700 px-3 py-2 rounded">Quản lý sinh viên</a>
            <a href="{{ url_for('admin.manage_applications') }}" class="hover:bg-gray-700 px-3 py-2 rounded">Quản lý đơn đăng ký</a>
            <a href="{{ url_for('admin.manage_services') }}" class="hover:bg-gray-600 px-3 py-2 rounded">Quản lý dịch vụ</a>
            <a href="{{ url_for('admin.payments') }}" class="hover:bg-gray-700 px-3 py-2 rounded">Quản lý hóa đơn</a>
            <a href="{{ url_for('admin.manage_complains') }}" class="hover:bg-gray-700 px-3 py-2 rounded">Quản lý khiếu nại</a>
        </nav>
        <div class="mt-auto">
            <a href="{{ url_for('auth.logout') }}"
                class="bg-red-500 hover:bg-red-600 px-3 py-2 rounded block text-center">Đăng xuất</a>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="ml-64 flex-1 p-6">
        {% block content %}{% endblock %}
    </main>

    <!-- Flash message -->
    \<div id="flash-container" class="fixed top-4 right-4 z-[9999] flex flex-col gap-2 max-w-sm w-full">
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for category, message in messages %}
        <div class="flash px-4 py-3 rounded-lg shadow-lg flex justify-between items-center
                                    {% if category == 'success' %} bg-green-100 text-green-800
                                    {% elif category == 'danger' %} bg-red-100 text-red-800
                                    {% else %} bg-blue-100 text-blue-800 {% endif %}">
            <span>{{ message }}</span>
            <button class="flash-close font-bold">✕</button>
        </div>
        {% endfor %}
        {% endif %}
        {% endwith %}
    </div>
    
    <script>
        document.querySelectorAll('.flash').forEach((el) => {
            setTimeout(() => { el.remove(); }, 3500); // auto ẩn sau 3.5s
            el.querySelector('.flash-close').onclick = () => el.remove();
        });
    </script>
</body>

</html>