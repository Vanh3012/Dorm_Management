{% extends "student/student_base.html" %}
{% block content %}
<div class="text-center mt-6 mb-8">
    <h1 class="text-3xl font-bold inline-block relative">
        Thông tin
        <span class="block w-20 h-1 bg-red-500 mx-auto mt-2 rounded"></span>
    </h1>
</div>

<!-- Danh sách thông báo dạng feed -->
<div class="space-y-6  p-20 ">
    {% for ann in announcements %}
    <div class="bg-white shadow rounded-lg p-4">
        <!-- Header -->
        <div class="flex items-center gap-3 mb-3">
            <img src="{{ url_for('static', filename='img/admin_avatar.jpg') }}" class="w-10 h-10 rounded-full border"
                alt="Admin avatar">
            <div>
                <p class="font-semibold">{{ ann.admin.fullname if ann.admin else "Admin" }}</p>
                <p class="text-gray-500 text-xs">{{ ann.created_at.strftime('%d/%m/%Y %H:%M') }}</p>
            </div>
        </div>

        <!-- Nội dung -->
        <h3 class="text-lg font-bold mb-2">{{ ann.title }}</h3>
        <p class="text-gray-800 whitespace-pre-line">
            {{ ann.content[:300] }}{% if ann.content|length > 300 %}...{% endif %}
        </p>

        <!-- Ảnh đính kèm -->
        {% if ann.image_url %}
        <img src="{{ url_for('static', filename=ann.image_url) }}"
            class="mt-3 rounded-lg max-h-[400px] w-full object-cover shadow">
        {% endif %}

        <!-- Link chi tiết -->
        <a href="{{ url_for('student.announcement_detail', ann_id=ann.id) }}"
            class="text-blue-600 hover:underline text-sm mt-2 inline-block">Xem chi tiết</a>
    </div>
    {% else %}
    <p class="italic text-gray-500">Chưa có thông báo nào.</p>
    {% endfor %}
</div>
{% endblock %}